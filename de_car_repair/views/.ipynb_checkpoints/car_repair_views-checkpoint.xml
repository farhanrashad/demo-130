<odoo>
        
    <!-- Car Repair Request Tree-->
    <record id="car_repair_order_list_view" model="ir.ui.view">
        <field name="name">car.repair.order.list.view</field>
        <field name="model">car.repair.order</field>
        <field name="arch" type="xml">
            <tree string="Car Repair Order">
                <field name="title"/>
                <field name="name"/>
                <field name="partner_id"/>
                <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"/>
                <field name="state"/>
            </tree>
        </field>
    </record>
    
    
    <!-- Car Repair Request Form -->
    <record id="car_repair_order_form_view" model="ir.ui.view">
        <field name="name">car.repair.order.form.view</field>
        <field name="model">car.repair.order</field>
        <field name="arch" type="xml">
            <form string="Repair Order">
                <header>
                    <button name="action_quotation_send" string="Send by Email" type="object" states="draft" class="btn-primary"/>
                    <button string="Confirm" name="action_confirm" type="object" states="draft" class=""/>
                    <button string="Start Repair" name="action_start_repair" type="object" states="confirm" class="oe_highlight"/>
                    <button string="End Repair" name="action_end_repair" type="object" states="inprocess" class="oe_highlight"/>
                    <button string="Cancel" name="action_cancel" states="draft" type="object"/>
                    <button name="action_view_invoice" string="Create Invoice" type="object" class="oe_highlight" context="{'create_invoice':True}" />
                    
                    <field name="state" widget="statusbar" statusbar_visible="draft,sent,confirm,inprocess,repaired,done"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <!-- Number -->
                        <!--
                        <h4 class="mt0">
                            <field name="name" readonly="True" attrs="{'invisible':[('name', '=', '/')]}"/>
                        </h4>
                        <label for="title" class="oe_edit_only"/>
                        <h1><field name="title" /></h1>
                        -->
                    </div>
                    <div class="oe_title">
		                	<h1>
	                            <field name="name" readonly="1" required="True"/>
	                        </h1>
                        <label for="title" class="oe_edit_only"/>
                        <h1><field name="title" /></h1>
		                </div>     
                    
                    <group>
                        <group>
                            <field name="partner_id"/>
                            <field name="user_id"/>
                            <field name="project_id"/>
                            <field name="task_id"/>
                            <field name="analytic_account_id"/>
                            <field name="invoice_status" invisible="1" />
                        </group>
                        <group>
                        <field name="request_date"/>
                        <field name="date_order" attrs="{'invisible': [('state', 'in', ['sale', 'done', 'cancel'])]}"/>
                        <field name="schedule_start_date"/>
                        <field name="schedule_end_date"/>
                        <field name="date_closed"/>
                            
                        
                        <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"/>
                        </group>
                    </group>
                     <group string="Customer Info">
                         <group string="">
                             <div class="o_address_format">
                             <field name="street" placeholder="Street..." class="o_address_street" />
                                <field name="street2" placeholder="Street 2..." class="o_address_street" />
                                <field name="city" placeholder="City" class="o_address_city" />
                            </div>
                         </group>
                         <group>
                             <field name="phone"/>
                             <field name="mobile"/>
                             <field name="email"/>
                         </group>
                    </group>
                    
                    
                    <group string="Car Info">
                        <group>
                            <field name="car_id"/>
                            <field name="category_id"/>
                            <field name="brand_id"/>
                        </group>
                        <group>
                            <field name="model"/>
                            <field name="color"/>
                            <field name="year"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Description">
                            <field name="description" placeholder="Add a description..."/>
                        </page>
                        <page string="Services">
                            <field name="order_service_lines" widget="one2many_list">
                                <tree string="Order lines" editable="bottom">
                                    <field name="product_id"/>
                                    <field name="product_uom_qty"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Spare Parts">
                            <field name="order_lines" widget="one2many_list">
                                <tree string="Order lines" editable="bottom">
                                    <field name="product_id"/>
                                    <field name="product_uom_qty"/>
                                    <field name="product_uom_id"/>
                                    <field name="product_uom_category_id" invisible="1"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Other Info">
                            <group>
                                <group>
                                    <field name="start_date"/>
                                    <field name="end_date"/>
                                </group>
                                <group>
                                    <field name="invoice_status"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>
    <!--kanban view -->
    <!--
    <record id="car_repair_order_kanban_view" model="ir.ui.view">
            <field name="name">car.repair.order.kanban.view</field>
            <field name="model">car.repair.order</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <kanban class="o_kanban_mobile" archivable="false">
                    <field name="title"/>
                </kanban>
        </field>
    </record>
-->
    
    <record id="view_car_repair_request_filter" model="ir.ui.view">
        <field name="name">car.repair.request.list.select</field>
            <field name="model">car.repair.order</field>
            <field name="priority" eval="15"/>
            <field name="arch" type="xml">
                <search string="Search Car Repair Request">
                    <field name="name" string="Car Repair" filter_domain="['|','|',('name','ilike',self),('client_order_ref','ilike',self),('partner_id','child_of',self)]"/>
                    <field name="partner_id" operator="child_of"/>
                    <field name="user_id"/>                    
                    <filter string="My Requests" domain="[('user_id','=',uid)]" name="my_repair_request_filter"/>
                    <separator/>
                    <filter string="Draft" domain="[('state','=','draft')]" name="repair_draft_filter"/>
                    <filter string="Repair Order" domain="[('state','=','confirm')]" name="repair_confirm_filter"/>
                    
                    <group expand="0" string="Group By">
                        <filter name="partner" string="Partner" domain="[]" context="{'group_by':'partner_id'}"/>
                        <filter string="Salesperson" name="salesperson" domain="[]" context="{'group_by':'user_id'}"/>
                        <filter string="Request Date" name="request_date" domain="[]" context="{'group_by':'request_date'}"/>
                    </group>
               </search>
            </field>
        </record>
    
    <record id="view_car_repair_order_filter" model="ir.ui.view">
        <field name="name">car.repair.order.list.select</field>
            <field name="model">car.repair.order</field>
            <field name="priority" eval="15"/>
            <field name="arch" type="xml">
                <search string="Search Car Repair Order">
                    <field name="name" string="Car Repair" filter_domain="['|','|',('name','ilike',self),('client_order_ref','ilike',self),('partner_id','child_of',self)]"/>
                    <field name="partner_id" operator="child_of"/>
                    <field name="user_id"/>                    
                    <filter string="My Orders" domain="[('user_id','=',uid)]" name="my_repair_order_filter"/>
                    <separator/>
                    <filter string="Draft" domain="[('state','=','draft')]" name="repair_draft_filter"/>
                    <filter string="Repair Order" domain="[('state','=','confirm')]" name="repair_confirm_filter"/>
                    <filter string="Work in Process" domain="[('state','=','inprocess')]" name="repair_inprocess_filter"/>
                    <filter string="Repaired" domain="[('state','=','repaired')]" name="repair_repaired_filter"/>
                    <filter string="Completed" domain="[('state','=','done')]" name="repair_done_filter"/>
                    
                    <group expand="0" string="Group By">
                        <filter name="partner" string="Partner" domain="[]" context="{'group_by':'partner_id'}"/>
                        <filter string="Salesperson" name="salesperson" domain="[]" context="{'group_by':'user_id'}"/>
                        <filter string="Order Date" name="date_order" domain="[]" context="{'group_by':'request_date'}"/>
                        <filter string="Repair Start Date" name="start_order" domain="[]" context="{'group_by':'request_date'}"/>
                        <filter string="Repair End Date" name="end_order" domain="[]" context="{'group_by':'request_date'}"/>
                    </group>
               </search>
            </field>
        </record> 
    
    <!-- Car Repair Action View -->
    <record id="action_car_repair_request" model="ir.actions.act_window">
        <field name="name">Car Repair</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">car.repair.order</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state', 'not in', ['inprocess','done'])]</field>
        <field name="context">{'search_default_repair_draft_filter': 1}</field>
        <field name="search_view_id" ref="view_car_repair_request_filter"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new repair request, the first step of a new sale!
            </p>
            <p>
                Once the request is confirmed by the customer, it becomes a repair order.<br/> You will be able to work on order and create an invoice and collect the payment.
            </p>
        </field>
    </record>
    <record id="action_car_repair_order" model="ir.actions.act_window">
        <field name="name">Car Repair</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">car.repair.order</field>
        <field name="view_mode">tree,form,graph,pivot</field>
        <field name="domain">[('state', 'not in', ['draft'])]</field>
        <field name="context">{'search_default_repair_order_filter': 1}</field>
        <field name="search_view_id" ref="view_car_repair_order_filter"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new repair Order, the first step of a new sale!
            </p>
            <p>
                Once the Order is confirmed by the customer, it becomes a repair order.<br/> You will be able to work on order and create an invoice and collect the payment.
            </p>
        </field>
    </record>
    
    
    <menuitem name="Repair Request" id="car_repair_request_menu" parent="de_car_repair.menu_car_repair_transaction"  action="action_car_repair_request" sequence="10" />
    <menuitem name="Repair Order" id="car_repair_order_menu" parent="de_car_repair.menu_car_repair_transaction"  action="action_car_repair_order" sequence="20"/>
    
</odoo>